# ~/.config/picom/picom.conf

backend = "glx"
vsync = true

# Rounded corners globally
corner-radius = 8

# Opacity for active/inactive windows
active-opacity = 0.9
inactive-opacity = 0.8
inactive-opacity-override = true
frame-opacity = 0.7

# Shadows
shadow = true
shadow-radius = 10
shadow-offset-x = -10
shadow-offset-y = -10
shadow-opacity = 0.3

# Blur (dual_kawase) for a nice aesthetic
blur-background = true
blur-method = "dual_kawase"
blur-strength = 10

# Fade animations
fading = true
fade-delta = 10
fade-in-step = 0.03
fade-out-step = 0.03

animation-for-open-window = true
animation-for-close-window = true
animation-window-move = true
animation-window-resize = true

# Exclude shadow and blur on dwm bar (dwmblocks), rofi, dunst notifications
wintypes = {
  tooltip = { fade = true; shadow = false; };
  notification = { fade = true; shadow = false; blur = false; };
  dock = { shadow = false; opacity = 1; rounded-corners = 0; };  # dwm bar / dwmblocks
  panel = { shadow = false; opacity = 1; rounded-corners = 0; };
};

# Window exceptions by class or name
shadow-exclude = [
  "class_g = 'Dunst'",
  "class_g = 'dwmblocks'",
  "class_g = 'Rofi'",
  "name = 'dwmblocks'",
  "_GTK_FRAME_EXTENTS@:c"
];

blur-background-exclude = [
  "class_g = 'Dunst'",
  "class_g = 'dwmblocks'",
  "class_g = 'Rofi'"
];

opacity-rule = [
  "90:class_g = 'Firefox'",
  "90:class_g = 'Brave-browser'",
  "90:class_g = 'Code'",
  "90:class_g = 'Thunar'",
  "90:class_g = 'obs'",
];

detect-transient = true;
detect-client-opacity = true;

